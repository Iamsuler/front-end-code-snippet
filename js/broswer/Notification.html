<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Notification</title>
</head>
<body>
  <h1>this is a page to test Notification</h1>
  <script>
    let notificationPermission = Notification.permission
    function requestPermission () {
      Notification.requestPermission().then(permission => {
        console.log(permission)
      })
    }
    function sendNotification (title, options) {
      var note = new Notification(title, options)
    }
    if (notificationPermission === 'denied') {
      alert('please')
    } else if (notificationPermission === 'default') {
      requestPermission()
    } else if (notificationPermission === 'granted') {
      let title = 'PWA即学即用';
      let options = {
        body: '邀请你一起学习',
        icon: '/img/icons/book-128.png',
        actions: [{
            action: 'show-book',
            title: '去看看'
        }, {
            action: 'contact-me',
            title: '联系我'
        }],
        tag: 'pwa-starter',
        renotify: true
      }
      sendNotification(title, options)
      // registration.showNotification(title, options);
    }
  </script>
</body>
</html>